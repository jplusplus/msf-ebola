.main(ng-model="progress")
  leaflet.main__map(center='settings.center', markers="centers", tiles="settings.tiles", maxbounds="settings.maxbounds", defaults="settings.defaults")
  .main__legend
    ul.list-unstyled
      li.main__legend__item
        i.fa.fa-fw.fa-dot-circle-o.text-success
        | &nbsp; {{ 'center' | translate }}
      li.main__legend__item
        i.fa.fa-fw.fa-circle.text-success
        | &nbsp; {{ 'administrative_center' | translate }}
      li.main__legend__item
        i.fa.fa-fw.fa-male.text-success
        | &nbsp; {{ 'ten_staff' | translate }}
      li.main__legend__item
        i.fa.fa-fw.fa-male.text-primary
        | &nbsp; {{ 'ten_admitted' | translate }}
        
  .main__highlights
    .main__highlights__item(ng-repeat="highlight in highlights", ng-show="highlightFilter(highlight)")      
      .main__highlights__item__wrapper
        div(ng-bind-html="highlight.translation_key | translate")
    .main__highlights__item(ng-show="displayFinalHighlight")      
      .main__highlights__item__wrapper
        div(ng-bind-html="'final_highlight' | translate")
        .text-center
          a.introduction__step__next(ng-click="displayFinalHighlight = false")
            i.fa.fa-arrow-circle-right.fa-2x
        
  .main__chart
    .main__chart__stack.main__chart__stack--dead(ng-style="figureStyle(day.regional_data.death_total)") 
      span.main__chart__stack__label {{ 'dead' | translate }}
      span.main__chart__stack__figure {{ day.regional_data.death_total | decade }}
    .main__chart__stack.main__chart__stack--case(ng-style="figureStyle(day.regional_data.cases_total)")
      span.main__chart__stack__label {{ 'cases' | translate }}
      span.main__chart__stack__figure {{ day.regional_data.cases_total | decade }}
    .main__chart__stack.main__chart__stack--msf-cured(ng-style="figureStyle(day.regional_data.recovered_msf_cumulative)")
      span.main__chart__stack__label {{ 'cured_by_msf' | translate }}
      span.main__chart__stack__figure {{ day.regional_data.recovered_msf_cumulative | decade }}
      
  .main__timeline
    .main__timeline__cursor(ng-style="{ width: progress + '%' }")
    .main__timeline__anchor(draggable, ng-model="progress", data-month="{{ months[today.getMonth()] | translate }}") 
      | {{ today.getDate() }}
  .main__weeks
    .main__weeks__slot(ng-repeat="week in ::weeks")
      .victims-animation(ng-show="progressFilter($index)")
        .main__weeks__slot__victim(ng-repeat="victim in ::week.victims track by $index")
      | &nbsp;
  
